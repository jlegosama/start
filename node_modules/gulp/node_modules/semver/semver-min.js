// export the class if we are in a Node-like system.
function parse(e,t){var n=t?re[LOOSE]:re[FULL];return n.test(e)?new SemVer(e,t):null}function valid(e,t){var n=parse(e,t);return n?n.version:null}function clean(e,t){var n=parse(e,t);return n?n.version:null}function SemVer(e,t){if(e instanceof SemVer){if(e.loose===t)return e;e=e.version}if(!(this instanceof SemVer))return new SemVer(e,t);debug("SemVer",e,t);this.loose=t;var n=e.trim().match(t?re[LOOSE]:re[FULL]);if(!n)throw new TypeError("Invalid Version: "+e);this.raw=e;this.major=+n[1];this.minor=+n[2];this.patch=+n[3];n[4]?this.prerelease=n[4].split(".").map(function(e){return/^[0-9]+$/.test(e)?+e:e}):this.prerelease=[];this.build=n[5]?n[5].split("."):[];this.format()}function inc(e,t,n){try{return(new SemVer(e,n)).inc(t).version}catch(r){return null}}function compareIdentifiers(e,t){var n=numeric.test(e),r=numeric.test(t);if(n&&r){e=+e;t=+t}return n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function rcompareIdentifiers(e,t){return compareIdentifiers(t,e)}function compare(e,t,n){return(new SemVer(e,n)).compare(t)}function compareLoose(e,t){return compare(e,t,!0)}function rcompare(e,t,n){return compare(t,e,n)}function sort(e,t){return e.sort(function(e,n){return exports.compare(e,n,t)})}function rsort(e,t){return e.sort(function(e,n){return exports.rcompare(e,n,t)})}function gt(e,t,n){return compare(e,t,n)>0}function lt(e,t,n){return compare(e,t,n)<0}function eq(e,t,n){return compare(e,t,n)===0}function neq(e,t,n){return compare(e,t,n)!==0}function gte(e,t,n){return compare(e,t,n)>=0}function lte(e,t,n){return compare(e,t,n)<=0}function cmp(e,t,n,r){var i;switch(t){case"===":i=e===n;break;case"!==":i=e!==n;break;case"":case"=":case"==":i=eq(e,n,r);break;case"!=":i=neq(e,n,r);break;case">":i=gt(e,n,r);break;case">=":i=gte(e,n,r);break;case"<":i=lt(e,n,r);break;case"<=":i=lte(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function Comparator(e,t){if(e instanceof Comparator){if(e.loose===t)return e;e=e.value}if(!(this instanceof Comparator))return new Comparator(e,t);debug("comparator",e,t);this.loose=t;this.parse(e);this.semver===ANY?this.value="":this.value=this.operator+this.semver.version}function Range(e,t){if(e instanceof Range&&e.loose===t)return e;if(!(this instanceof Range))return new Range(e,t);this.loose=t;this.raw=e;this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length});if(!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function toComparators(e,t){return(new Range(e,t)).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})}function parseComparator(e,t){debug("comp",e);e=replaceCarets(e,t);debug("caret",e);e=replaceTildes(e,t);debug("tildes",e);e=replaceXRanges(e,t);debug("xrange",e);e=replaceStars(e,t);debug("stars",e);return e}function isX(e){return!e||e.toLowerCase()==="x"||e==="*"}function replaceTildes(e,t){return e.trim().split(/\s+/).map(function(e){return replaceTilde(e,t)}).join(" ")}function replaceTilde(e,t){var n=t?re[TILDELOOSE]:re[TILDE];return e.replace(n,function(t,n,r,i,s){debug("tilde",e,t,n,r,i,s);var o;if(isX(n))o="";else if(isX(r))o=">="+n+".0.0-0 <"+(+n+1)+".0.0-0";else if(isX(i))o=">="+n+"."+r+".0-0 <"+n+"."+(+r+1)+".0-0";else if(s){debug("replaceTilde pr",s);s.charAt(0)!=="-"&&(s="-"+s);o=">="+n+"."+r+"."+i+s+" <"+n+"."+(+r+1)+".0-0"}else o=">="+n+"."+r+"."+i+"-0"+" <"+n+"."+(+r+1)+".0-0";debug("tilde return",o);return o})}function replaceCarets(e,t){return e.trim().split(/\s+/).map(function(e){return replaceCaret(e,t)}).join(" ")}function replaceCaret(e,t){var n=t?re[CARETLOOSE]:re[CARET];return e.replace(n,function(t,n,r,i,s){debug("caret",e,t,n,r,i,s);var o;if(isX(n))o="";else if(isX(r))o=">="+n+".0.0-0 <"+(+n+1)+".0.0-0";else if(isX(i))n==="0"?o=">="+n+"."+r+".0-0 <"+n+"."+(+r+1)+".0-0":o=">="+n+"."+r+".0-0 <"+(+n+1)+".0.0-0";else if(s){debug("replaceCaret pr",s);s.charAt(0)!=="-"&&(s="-"+s);n==="0"?r==="0"?o="="+n+"."+r+"."+i+s:o=">="+n+"."+r+"."+i+s+" <"+n+"."+(+r+1)+".0-0":o=">="+n+"."+r+"."+i+s+" <"+(+n+1)+".0.0-0"}else n==="0"?r==="0"?o="="+n+"."+r+"."+i:o=">="+n+"."+r+"."+i+"-0"+" <"+n+"."+(+r+1)+".0-0":o=">="+n+"."+r+"."+i+"-0"+" <"+(+n+1)+".0.0-0";debug("caret return",o);return o})}function replaceXRanges(e,t){debug("replaceXRanges",e,t);return e.split(/\s+/).map(function(e){return replaceXRange(e,t)}).join(" ")}function replaceXRange(e,t){e=e.trim();var n=t?re[XRANGELOOSE]:re[XRANGE];return e.replace(n,function(t,n,r,i,s,o){debug("xRange",e,t,n,r,i,s,o);var u=isX(r),a=u||isX(i),f=a||isX(s),l=f;n==="="&&l&&(n="");if(n&&l){u&&(r=0);a&&(i=0);f&&(s=0);if(n===">"){n=">=";if(!u)if(a){r=+r+1;i=0;s=0}else if(f){i=+i+1;s=0}}t=n+r+"."+i+"."+s+"-0"}else u?t="*":a?t=">="+r+".0.0-0 <"+(+r+1)+".0.0-0":f&&(t=">="+r+"."+i+".0-0 <"+r+"."+(+i+1)+".0-0");debug("xRange return",t);return t})}function replaceStars(e,t){debug("replaceStars",e,t);return e.trim().replace(re[STAR],"")}function hyphenReplace(e,t,n,r,i,s,o,u,a,f,l,c,h){isX(n)?t="":isX(r)?t=">="+n+".0.0-0":isX(i)?t=">="+n+"."+r+".0-0":t=">="+t;isX(a)?u="":isX(f)?u="<"+(+a+1)+".0.0-0":isX(l)?u="<"+a+"."+(+f+1)+".0-0":c?u="<="+a+"."+f+"."+l+"-"+c:u="<="+u;return(t+" "+u).trim()}function testSet(e,t){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;return!0}function satisfies(e,t,n){try{t=new Range(t,n)}catch(r){return!1}return t.test(e)}function maxSatisfying(e,t,n){return e.filter(function(e){return satisfies(e,t,n)}).sort(function(e,t){return rcompare(e,t,n)})[0]||null}function validRange(e,t){try{return(new Range(e,t)).range||"*"}catch(n){return null}}function ltr(e,t,n){return outside(e,t,"<",n)}function gtr(e,t,n){return outside(e,t,">",n)}function outside(e,t,n,r){e=new SemVer(e,r);t=new Range(t,r);var i,s,o,u,a;switch(n){case">":i=gt;s=lte;o=lt;u=">";a=">=";break;case"<":i=lt;s=gte;o=gt;u="<";a="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(e,t,r))return!1;for(var f=0;f<t.set.length;++f){var l=t.set[f],c=null,h=null;l.forEach(function(e){c=c||e;h=h||e;i(e.semver,c.semver,r)?c=e:o(e.semver,h.semver,r)&&(h=e)});if(c.operator===u||c.operator===a)return!1;if((!h.operator||h.operator===u)&&s(e,h.semver))return!1;if(h.operator===a&&o(e,h.semver))return!1}return!0}typeof module=="object"&&module.exports===exports&&(exports=module.exports=SemVer);var debug;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?debug=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER");console.log.apply(console,e)}:debug=function(){};exports.SEMVER_SPEC_VERSION="2.0.0";var re=exports.re=[],src=exports.src=[],R=0,NUMERICIDENTIFIER=R++;src[NUMERICIDENTIFIER]="0|[1-9]\\d*";var NUMERICIDENTIFIERLOOSE=R++;src[NUMERICIDENTIFIERLOOSE]="[0-9]+";var NONNUMERICIDENTIFIER=R++;src[NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var MAINVERSION=R++;src[MAINVERSION]="("+src[NUMERICIDENTIFIER]+")\\."+"("+src[NUMERICIDENTIFIER]+")\\."+"("+src[NUMERICIDENTIFIER]+")";var MAINVERSIONLOOSE=R++;src[MAINVERSIONLOOSE]="("+src[NUMERICIDENTIFIERLOOSE]+")\\."+"("+src[NUMERICIDENTIFIERLOOSE]+")\\."+"("+src[NUMERICIDENTIFIERLOOSE]+")";var PRERELEASEIDENTIFIER=R++;src[PRERELEASEIDENTIFIER]="(?:"+src[NUMERICIDENTIFIER]+"|"+src[NONNUMERICIDENTIFIER]+")";var PRERELEASEIDENTIFIERLOOSE=R++;src[PRERELEASEIDENTIFIERLOOSE]="(?:"+src[NUMERICIDENTIFIERLOOSE]+"|"+src[NONNUMERICIDENTIFIER]+")";var PRERELEASE=R++;src[PRERELEASE]="(?:-("+src[PRERELEASEIDENTIFIER]+"(?:\\."+src[PRERELEASEIDENTIFIER]+")*))";var PRERELEASELOOSE=R++;src[PRERELEASELOOSE]="(?:-?("+src[PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+src[PRERELEASEIDENTIFIERLOOSE]+")*))";var BUILDIDENTIFIER=R++;src[BUILDIDENTIFIER]="[0-9A-Za-z-]+";var BUILD=R++;src[BUILD]="(?:\\+("+src[BUILDIDENTIFIER]+"(?:\\."+src[BUILDIDENTIFIER]+")*))";var FULL=R++,FULLPLAIN="v?"+src[MAINVERSION]+src[PRERELEASE]+"?"+src[BUILD]+"?";src[FULL]="^"+FULLPLAIN+"$";var LOOSEPLAIN="[v=\\s]*"+src[MAINVERSIONLOOSE]+src[PRERELEASELOOSE]+"?"+src[BUILD]+"?",LOOSE=R++;src[LOOSE]="^"+LOOSEPLAIN+"$";var GTLT=R++;src[GTLT]="((?:<|>)?=?)";var XRANGEIDENTIFIERLOOSE=R++;src[XRANGEIDENTIFIERLOOSE]=src[NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";var XRANGEIDENTIFIER=R++;src[XRANGEIDENTIFIER]=src[NUMERICIDENTIFIER]+"|x|X|\\*";var XRANGEPLAIN=R++;src[XRANGEPLAIN]="[v=\\s]*("+src[XRANGEIDENTIFIER]+")"+"(?:\\.("+src[XRANGEIDENTIFIER]+")"+"(?:\\.("+src[XRANGEIDENTIFIER]+")"+"(?:("+src[PRERELEASE]+")"+")?)?)?";var XRANGEPLAINLOOSE=R++;src[XRANGEPLAINLOOSE]="[v=\\s]*("+src[XRANGEIDENTIFIERLOOSE]+")"+"(?:\\.("+src[XRANGEIDENTIFIERLOOSE]+")"+"(?:\\.("+src[XRANGEIDENTIFIERLOOSE]+")"+"(?:("+src[PRERELEASELOOSE]+")"+")?)?)?";var XRANGE=R++;src[XRANGE]="^"+src[GTLT]+"\\s*"+src[XRANGEPLAIN]+"$";var XRANGELOOSE=R++;src[XRANGELOOSE]="^"+src[GTLT]+"\\s*"+src[XRANGEPLAINLOOSE]+"$";var LONETILDE=R++;src[LONETILDE]="(?:~>?)";var TILDETRIM=R++;src[TILDETRIM]="(\\s*)"+src[LONETILDE]+"\\s+";re[TILDETRIM]=new RegExp(src[TILDETRIM],"g");var tildeTrimReplace="$1~",TILDE=R++;src[TILDE]="^"+src[LONETILDE]+src[XRANGEPLAIN]+"$";var TILDELOOSE=R++;src[TILDELOOSE]="^"+src[LONETILDE]+src[XRANGEPLAINLOOSE]+"$";var LONECARET=R++;src[LONECARET]="(?:\\^)";var CARETTRIM=R++;src[CARETTRIM]="(\\s*)"+src[LONECARET]+"\\s+";re[CARETTRIM]=new RegExp(src[CARETTRIM],"g");var caretTrimReplace="$1^",CARET=R++;src[CARET]="^"+src[LONECARET]+src[XRANGEPLAIN]+"$";var CARETLOOSE=R++;src[CARETLOOSE]="^"+src[LONECARET]+src[XRANGEPLAINLOOSE]+"$";var COMPARATORLOOSE=R++;src[COMPARATORLOOSE]="^"+src[GTLT]+"\\s*("+LOOSEPLAIN+")$|^$";var COMPARATOR=R++;src[COMPARATOR]="^"+src[GTLT]+"\\s*("+FULLPLAIN+")$|^$";var COMPARATORTRIM=R++;src[COMPARATORTRIM]="(\\s*)"+src[GTLT]+"\\s*("+LOOSEPLAIN+"|"+src[XRANGEPLAIN]+")";re[COMPARATORTRIM]=new RegExp(src[COMPARATORTRIM],"g");var comparatorTrimReplace="$1$2$3",HYPHENRANGE=R++;src[HYPHENRANGE]="^\\s*("+src[XRANGEPLAIN]+")"+"\\s+-\\s+"+"("+src[XRANGEPLAIN]+")"+"\\s*$";var HYPHENRANGELOOSE=R++;src[HYPHENRANGELOOSE]="^\\s*("+src[XRANGEPLAINLOOSE]+")"+"\\s+-\\s+"+"("+src[XRANGEPLAINLOOSE]+")"+"\\s*$";var STAR=R++;src[STAR]="(<|>)?=?\\s*\\*";for(var i=0;i<R;i++){debug(i,src[i]);re[i]||(re[i]=new RegExp(src[i]))}exports.parse=parse;exports.valid=valid;exports.clean=clean;exports.SemVer=SemVer;SemVer.prototype.format=function(){this.version=this.major+"."+this.minor+"."+this.patch;this.prerelease.length&&(this.version+="-"+this.prerelease.join("."));return this.version};SemVer.prototype.inspect=function(){return'<SemVer "'+this+'">'};SemVer.prototype.toString=function(){return this.version};SemVer.prototype.compare=function(e){debug("SemVer.compare",this.version,this.loose,e);e instanceof SemVer||(e=new SemVer(e,this.loose));return this.compareMain(e)||this.comparePre(e)};SemVer.prototype.compareMain=function(e){e instanceof SemVer||(e=new SemVer(e,this.loose));return compareIdentifiers(this.major,e.major)||compareIdentifiers(this.minor,e.minor)||compareIdentifiers(this.patch,e.patch)};SemVer.prototype.comparePre=function(e){e instanceof SemVer||(e=new SemVer(e,this.loose));if(this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.lenth&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],r=e.prerelease[t];debug("prerelease compare",t,n,r);if(n===undefined&&r===undefined)return 0;if(r===undefined)return 1;if(n===undefined)return-1;if(n===r)continue;return compareIdentifiers(n,r)}while(++t)};SemVer.prototype.inc=function(e){switch(e){case"major":this.major++;this.minor=-1;case"minor":this.minor++;this.patch=-1;case"patch":this.patch++;this.prerelease=[];break;case"prerelease":if(this.prerelease.length===0)this.prerelease=[0];else{var t=this.prerelease.length;while(--t>=0)if(typeof this.prerelease[t]=="number"){this.prerelease[t]++;t=-2}t===-1&&this.prerelease.push(0)}break;default:throw new Error("invalid increment argument: "+e)}this.format();return this};exports.inc=inc;exports.compareIdentifiers=compareIdentifiers;var numeric=/^[0-9]+$/;exports.rcompareIdentifiers=rcompareIdentifiers;exports.compare=compare;exports.compareLoose=compareLoose;exports.rcompare=rcompare;exports.sort=sort;exports.rsort=rsort;exports.gt=gt;exports.lt=lt;exports.eq=eq;exports.neq=neq;exports.gte=gte;exports.lte=lte;exports.cmp=cmp;exports.Comparator=Comparator;var ANY={};Comparator.prototype.parse=function(e){var t=this.loose?re[COMPARATORLOOSE]:re[COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1];if(!n[2])this.semver=ANY;else{this.semver=new SemVer(n[2],this.loose);if(this.operator==="<"&&!this.semver.prerelease.length){this.semver.prerelease=["0"];this.semver.format()}}};Comparator.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'};Comparator.prototype.toString=function(){return this.value};Comparator.prototype.test=function(e){debug("Comparator.test",e,this.loose);return this.semver===ANY?!0:cmp(e,this.operator,this.semver,this.loose)};exports.Range=Range;Range.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'};Range.prototype.format=function(){this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim();return this.range};Range.prototype.toString=function(){return this.range};Range.prototype.parseRange=function(e){var t=this.loose;e=e.trim();debug("range",e,t);var n=t?re[HYPHENRANGELOOSE]:re[HYPHENRANGE];e=e.replace(n,hyphenReplace);debug("hyphen replace",e);e=e.replace(re[COMPARATORTRIM],comparatorTrimReplace);debug("comparator trim",e,re[COMPARATORTRIM]);e=e.replace(re[TILDETRIM],tildeTrimReplace);e=e.replace(re[CARETTRIM],caretTrimReplace);e=e.split(/\s+/).join(" ");var r=t?re[COMPARATORLOOSE]:re[COMPARATOR],i=e.split(" ").map(function(e){return parseComparator(e,t)}).join(" ").split(/\s+/);this.loose&&(i=i.filter(function(e){return!!e.match(r)}));i=i.map(function(e){return new Comparator(e,t)});return i};exports.toComparators=toComparators;Range.prototype.test=function(e){if(!e)return!1;for(var t=0;t<this.set.length;t++)if(testSet(this.set[t],e))return!0;return!1};exports.satisfies=satisfies;exports.maxSatisfying=maxSatisfying;exports.validRange=validRange;exports.ltr=ltr;exports.gtr=gtr;exports.outside=outside;typeof define=="function"&&define.amd&&define(exports);