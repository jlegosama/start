var util=require("../"),should=require("should"),path=require("path"),es=require("event-stream");require("mocha");describe("buffer()",function(){it("should buffer stuff and return an array into the callback",function(e){var t=[1,2,3],n=es.readArray(t);n.pipe(util.buffer(function(n,r){should.not.exist(n);should.exist(r);r.should.eql(t);e()}))});it("should buffer stuff and emit it as a data event",function(e){var t=[1,2,3],n=es.readArray(t);n.pipe(util.buffer()).on("data",function(n){should.exist(n);n.should.eql(t);e()})});it("should buffer stuff and return a stream with the buffered data",function(e){var t=[1,2,3],n=es.readArray(t);n.pipe(util.buffer()).pipe(es.through(function(n){should.exist(n);n.should.eql(t);e()}))})});