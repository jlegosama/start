/*
on rvagg@fletcher:
  @0.2.3: Ran 36719 iterations in 10000 ms
*/function run(e){var t=Array.apply(null,Array(10)).map(function(){return crypto.randomBytes(32)}),n=through2(function(e,t,n){n(null,e.toString("hex"))});n.pipe(bl(function(n,r){assert(!n);assert.equal(r.toString(),Buffer.concat(t).toString("hex"));e()}));t.forEach(function(e){n.write(e)});n.end()}const through2=require("../"),bl=require("bl"),crypto=require("crypto"),assert=require("assert");var count=0,start=Date.now();(function e(){count++;run(function(){if(Date.now()-start<1e4)return setImmediate(e);console.log("Ran",count,"iterations in",Date.now()-start,"ms")})})();console.log("Running for ~10s");