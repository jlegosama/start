function testResult(e,t){var n=engines.map(function(t){return t(doc,e)});for(var r=1;r<n.length;r++){if(n[r-1].length!==n[r].length)return!0;for(var i=0;i<n[r].length;i++)if(n[r-1][i]!==n[r][i]&&n[r-1].indexOf(n[r][i])===-1)return!0}return!1}function testSpeed(e){print(e,Array(28-e.length).join(" "));var t=engines.map(function(t){return function(){return t(doc,e)}}),n=CSSselect(e);t.unshift(function(){return CSSselect.iterate(n,doc)});t=t.map(ben);var r=Math.min.apply(null,t),i=Math.max.apply(null,t);t.forEach(function(e){if(e===r)return print(" +",e,"+");if(e===i)return print(" !",e,"!");if(Math.abs(e-r)>Math.abs(e-i))return print(" =",e,"=");print(" ~",e,"~")});print("\n")}function print(){process.stdout.write(Array.prototype.join.call(arguments," "))}var helper=require("./helper.js"),doc=helper.getFile("W3C_Selectors.html"),CSSselect=helper.CSSselect,soupselect=require("cheerio-soupselect"),selectors=["body","div","body div","div p","div > p","div + p","div ~ p","div[class^=exa][class$=mple]","div p a","div, p, a",".note","div.example","ul .tocline2","div.example, div.note","#title","h1#title","div #title","ul.toc li.tocline2","ul.toc > li.tocline2","h1#title + div > p","h1[id]:contains(Selectors)","a[href][lang][class]","div[class]","div[class=example]","div[class^=exa]","div[class$=mple]","div[class*=e]","div[class|=dialog]","div[class!=made_up]","div[class~=example]"],engines=[function(e,t){return CSSselect(t,e)},soupselect.select];selectors.filter(testResult).forEach(function(e){print(e,"failed!\n")});process.exit(0);print("-----\n\nChecking performance\n\n");var ben=require("ben");print("RULE                    ","CSSselect (pc)","CSSselect","soupselect\n");selectors.forEach(testSpeed);