function stringify(e){return Object.keys(e||{}).reduce(function(t,n){return t+=""+(t?" ":"")+n+": "+e[n]+";"},"")}function parse(e){e=(e||"").trim();return e?e.split(";").reduce(function(e,t){var n=t.indexOf(":");if(n<1||n===t.length-1)return e;e[t.slice(0,n).trim()]=t.slice(n+1).trim();return e},{}):{}}var _=require("underscore"),toString=Object.prototype.toString;exports.css=function(e,t){return arguments.length===2||toString.call(e)==="[object Object]"?this.each(function(n){this._setCss(e,t,n)}):this._getCss(e)};exports._setCss=function(e,t,n){if("string"==typeof e){var r=this._getCss();_.isFunction(t)&&(t=t.call(this[0],n,this[0]));t===""?delete r[e]:t!=null&&(r[e]=t);return this.attr("style",stringify(r))}if("object"==typeof e){Object.keys(e).forEach(function(t){this._setCss(t,e[t])},this);return this}};exports._getCss=function(e){var t=parse(this.attr("style"));return typeof e=="string"?t[e]:_.isArray(e)?_.pick(t,e):t};