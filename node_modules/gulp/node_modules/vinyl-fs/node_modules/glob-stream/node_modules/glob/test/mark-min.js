var test=require("tap").test,glob=require("../");process.chdir(__dirname);test("mark, no / on pattern",function(e){glob("a/*",{mark:!0},function(n,r){if(n)throw n;var i=["a/abcdef/","a/abcfed/","a/b/","a/bc/","a/c/","a/cb/"];process.platform!=="win32"&&i.push("a/symlink/");e.same(r,i);e.end()}).on("match",function(n){e.similar(n,/\/$/)})});test("mark=false, no / on pattern",function(e){glob("a/*",function(n,r){if(n)throw n;var i=["a/abcdef","a/abcfed","a/b","a/bc","a/c","a/cb"];process.platform!=="win32"&&i.push("a/symlink");e.same(r,i);e.end()}).on("match",function(n){e.similar(n,/[^\/]$/)})});test("mark=true, / on pattern",function(e){glob("a/*/",{mark:!0},function(n,r){if(n)throw n;var i=["a/abcdef/","a/abcfed/","a/b/","a/bc/","a/c/","a/cb/"];process.platform!=="win32"&&i.push("a/symlink/");e.same(r,i);e.end()}).on("match",function(n){e.similar(n,/\/$/)})});test("mark=false, / on pattern",function(e){glob("a/*/",function(n,r){if(n)throw n;var i=["a/abcdef/","a/abcfed/","a/b/","a/bc/","a/c/","a/cb/"];process.platform!=="win32"&&i.push("a/symlink/");e.same(r,i);e.end()}).on("match",function(n){e.similar(n,/\/$/)})});