(function(e,t){"use strict";function d(e){e||(e=1);while(e--)ok(!0,"test skipped")}var n=typeof require=="function"?require:e.load,r=function(){var t=0,n=e.phantom?phantom.args:e.system?(t=1,system.args):e.process?(t=2,process.argv):e.arguments||[],r=n[n.length-1];n=n.length>t&&r!="test.js"?r:"../lodash.js";try{n=require("fs").realpathSync(n)}catch(i){}return n}(),i=/[\w.-]+$/.exec(r)[0],s=e.platform||n("../vendor/platform.js/platform.js")||e.platform,o=e.QUnit||(e.addEventListener||(e.addEventListener=Function.prototype),e.setTimeout||(e.setTimeout=Function.prototype),e.QUnit=n("../vendor/qunit/qunit/qunit.js")||e.QUnit,n("../vendor/qunit-clib/qunit-clib.js"),e.addEventListener===Function.prototype&&delete e.addEventListener,e.QUnit),u=e._||(u=n(r)||e._,u._||u),a=[,"",0,!1,NaN,null,t],f=Object.freeze,l=function(e){try{var t={};return e(t,t,t)&&e}catch(n){}}(Object.defineProperty),c=[].slice,h={constructor:1,hasOwnProperty:2,isPrototypeOf:3,propertyIsEnumerable:4,toLocaleString:5,toString:6,valueOf:7},p=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];(function(){if(!e.document||e.phantom)return;var t=document.body,n=document.createElement("iframe");n.frameBorder=n.height=n.width=0;t.appendChild(n);var r=(r=n.contentDocument||n.contentWindow).document||r;r.write("<script>parent._._object = { 'a': 1, 'b': 2, 'c': 3 };</script>");r.close()})();o.module(i);(function(){test("supports loading "+i+' as the "lodash" module',function(){e.define&&define.amd?equal((lodashModule||{}).moduleName,"lodash"):d()});test("supports loading "+i+' with the Require.js "shim" configuration option',function(){e.define&&define.amd?equal((shimmedModule||{}).moduleName,"shimmed"):d()});test("supports loading "+i+' as the "underscore" module',function(){e.define&&define.amd?equal((underscoreModule||{}).moduleName,"underscore"):d()});test("avoids overwritten native methods",function(){e.document&&!e.phantom?notDeepEqual(lodashBadShim.keys({a:1}),[]):d()})})();o.module("lodash constructor");(function(){test("creates a new instance when called without the `new` operator",function(){ok(u()instanceof u)});test("should return passed LoDash instances",function(){var e=u([]);equal(u(e),e)})})();o.module("lodash.assign");(function(){test("should not error on `null` or `undefined` sources (test in IE < 9)",function(){try{deepEqual(u.assign({},null,t,{a:1}),{a:1})}catch(e){ok(!1)}})})();o.module("lodash.at");(function(){test("should return `undefined` for nonexistent keys",function(){var e=u.at(["a","b","c"],[0,2,4]);deepEqual(e,["a","c",t])});test("should return an empty array when no keys are passed",function(){deepEqual(u.at(["a","b","c"]),[])});test("should accept multiple key arguments",function(){var e=u.at(["a","b","c","d"],0,2,3);deepEqual(e,["a","c","d"])});test("should work with an object for `collection`",function(){var e=u.at({a:1,b:2,c:3},["a","c"]);deepEqual(e,[1,3])});u.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection`",function(){deepEqual(u.at(e,[0,2]),["a","c"])})})})();o.module("lodash.bind");(function(){test("should append array arguments to partially applied arguments (test in IE < 9)",function(){var e,t=u.bind(function(){e=c.call(arguments)},{},"a");t(["b"],"c");deepEqual(e,["a",["b"],"c"])});test("ensure `new bound` is an instance of `func`",function(){var e=function(){},t=u.bind(e,{});ok(new t instanceof e)})})();o.module("lodash.bindAll");(function(){test("should bind all methods of `object`",function(){function e(){this._a=1;this._b=2;this.a=function(){return this._a}}e.prototype.b=function(){return this._b};var t=new e;u.bindAll(t);var n=u.map(u.functions(t),function(e){return t[e].call({})});deepEqual(n,[1,2])});test("should accept arrays of method names",function(){var e={_a:1,_b:2,_c:3,_d:4,a:function(){return this._a},b:function(){return this._b},c:function(){return this._c},d:function(){return this._d}};u.bindAll(e,["a","b"],["c"]);var n=u.map(u.functions(e),function(t){return e[t].call({})});deepEqual(n,[1,2,3,t])})})();o.module("lodash.bindKey");(function(){test("should work when the target function is overwritten",function(){var e={name:"moe",greet:function(e){return e+": "+this.name}},t=u.bindKey(e,"greet","hi");equal(t(),"hi: moe");e.greet=function(e){return e+" "+this.name+"!"};equal(t(),"hi moe!")})})();o.module("cloning");(function(){function n(){this.a=1}n.prototype={b:1};var r={"an element":e.document&&document.body,"a function":n},i={"an arguments object":arguments,"an array":["a","b","c",""],"an array-like-object":{0:"a",1:"b",2:"c",3:"",length:5},"boolean":!1,"boolean object":Object(!1),"a Klass instance":new n,"an object":{a:0,b:1,c:3},"an object with object values":{a:/a/,b:["B"],c:{C:1}},"an object from another document":u._object||{},"null":null,"a number":3,"a number object":Object(3),"a regexp":/a/gim,"a string":"a","a string object":Object("a"),"undefined":t};i["an array"].length=5;u.forOwn(i,function(e,t){test("should deep clone "+t,function(){var t=u.cloneDeep(e);strictEqual(u.isEqual(e,t),!0);u.isObject(e)?notEqual(t,e):d()})});u.forOwn(r,function(e,t){test("should not clone "+t,function(){strictEqual(u.clone(e),e);strictEqual(u.cloneDeep(e),e)})});test("should shallow clone when used as `callback` for `_.map`",function(){var e=[{a:[0]},{b:[1]}],t=u.map(e,u.clone);ok(t!=e&&t.a==e.a&&t.b==e.b)});test("should deep clone `index` and `input` array properties",function(){var e=/x/.exec("x"),t=u.cloneDeep(e);strictEqual(t.index,0);equal(t.input,"x")});test("should deep clone objects with circular references",function(){var e={foo:{b:{foo:{c:{}}}},bar:{}};e.foo.b.foo.c=e;e.bar.b=e.foo.b;var t=u.cloneDeep(e);ok(t.bar.b===t.foo.b&&t===t.foo.b.foo.c&&t!==e)});test("should clone problem JScript properties (test in IE < 9)",function(){deepEqual(u.clone(h),h);notEqual(u.clone(h),h);deepEqual(u.cloneDeep(h),h);notEqual(u.cloneDeep(h),h)});u.each(["clone","cloneDeep"],function(e){var t=u[e],r=new n;test("_."+e+" should pass the correct `callback` arguments",function(){var e;t(r,function(){e||(e=c.call(arguments))});deepEqual(e,[r])});test("_."+e+" should correct set the `this` binding",function(){var e=t("a",function(e){return this[e]},{a:"A"});equal(e,"A")});test("_."+e+" should handle cloning if `callback` returns `undefined`",function(){var e=u.clone({a:{b:"c"}},function(){});deepEqual(e,{a:{b:"c"}})})})})(1,2,3);o.module("lodash.contains");(function(){u.each({"an array":[1,2,3,1,2,3],"an object":{a:1,b:2,c:3,d:1,e:2,f:3},"a string":"123123"},function(e,n){test("should work with "+n+" and a positive `fromIndex`",function(){strictEqual(u.contains(e,1,2),!0)});test("should work with "+n+" and a `fromIndex` >= collection's length",function(){strictEqual(u.contains(e,1,6),!1);strictEqual(u.contains(e,t,6),!1);strictEqual(u.contains(e,1,8),!1);strictEqual(u.contains(e,t,8),!1)});test("should work with "+n+" and a negative `fromIndex`",function(){strictEqual(u.contains(e,2,-3),!0)});test("should work with "+n+" and a negative `fromIndex` <= negative collection's length",function(){strictEqual(u.contains(e,1,-6),!0);strictEqual(u.contains(e,2,-8),!0)})});u.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection`",function(){strictEqual(u.contains(e,"bc"),!0);strictEqual(u.contains(e,"d"),!1)})})})();o.module("lodash.countBy");(function(){test("should only add values to own, not inherited, properties",function(){var e=u.countBy([4.2,6.1,6.4],function(e){return Math.floor(e)>4?"hasOwnProperty":"constructor"});strictEqual(e.constructor,1);equal(e.hasOwnProperty,2)})})();o.module("lodash.debounce");(function(){test('subsequent "immediate" debounced calls return the last `func` result',function(){var e=u.debounce(function(e){return e},32,!0),t=[e("x"),e("y")];deepEqual(t,["x","x"])});asyncTest("subsequent debounced calls return the last `func` result",function(){var e=u.debounce(function(e){return e},32);e("x");setTimeout(function(){equal(e("y"),"x");o.start()},64)})})();o.module("lodash.defaults");(function(){test("should not overwrite `null` values",function(){var e=u.defaults({a:null},{a:1});strictEqual(e.a,null)});test("should overwrite `undefined` values",function(){var e=u.defaults({a:t},{a:1});strictEqual(e.a,1)})})();o.module("lodash.defer");(function(){asyncTest("should accept additional arguments",function(){u.defer(function(){deepEqual(c.call(arguments),[1,2,3]);o.start()},1,2,3)})})();o.module("lodash.difference");(function(){test("should work when using `cachedContains`",function(){var e=u.range(27),t=e.slice(),n={},r={},i={};e.push(n,r,i);t.push(r,i,n);deepEqual(u.difference(e,t),[])})})();o.module("lodash.escape");(function(){test('should not escape the "/" character',function(){equal(u.escape("/"),"/")});test('should escape "\'" to "&#39;"',function(){equal(u.escape("'"),"&#39;")});test("should return an empty string when passed `null` or `undefined`",function(){equal(u.escape(null),"");equal(u.escape(t),"")})})();o.module("lodash.every");(function(){test("should return `false` as soon as the `callback` result is falsey",function(){strictEqual(u.every([!0,null,!0],u.identity),!1)})})();o.module("source property checks");u.each(["assign","defaults","merge"],function(e){var n=u[e];test("lodash."+e+" should not assign inherited `source` properties",function(){function e(){}e.prototype={a:1};deepEqual(n({},new e),{})});test("lodash."+e+" should treat sparse arrays as dense",function(){var e=Array(3);e[0]=1;e[2]=3;var r=n([],e),i=e.slice();i[1]=t;ok(1 in r);deepEqual(r,i)})});o.module("strict mode checks");u.each(["assign","bindAll","defaults"],function(e){var t=u[e];test("lodash."+e+" should not throw strict mode errors",function(){var n={a:null,b:function(){}},r=!0;if(f){f(n);try{e=="bindAll"?t(n):t(n,{a:1})}catch(i){r=!1}ok(r)}else d()})});o.module("lodash.filter");(function(){test("should not modify the resulting value from within `callback`",function(){var e=u.filter([0],function(e,t,n){return n[t]=1});deepEqual(e,[0])})})();o.module("lodash.find");(function(){var e=[{a:0,b:0},{a:1,b:1},{a:2,b:2}];test("should return found `value`",function(){equal(u.find(e,function(e){return e.a==1}),e[1])});test("should return `undefined` if `value` is not found",function(){equal(u.find(e,function(e){return e.a==3}),t)});test("should work with an object for `callback`",function(){equal(u.find(e,{b:2}),e[2])});test("should work with a string for `callback`",function(){equal(u.find(e,"b"),e[1])})})();o.module("lodash.first");(function(){var e=[1,2,3],t=[{a:2,b:2},{a:1,b:1},{a:0,b:0}];test("should return the first element",function(){strictEqual(u.first(e),1)});test("should return the first two elements",function(){deepEqual(u.first(e,2),[1,2])});test("should work with a `callback`",function(){var t=u.first(e,function(e){return e<3});deepEqual(t,[1,2])});test("should pass the correct `callback` arguments",function(){var t;u.first(e,function(){t||(t=c.call(arguments))});deepEqual(t,[1,0,e])});test("supports the `thisArg` argument",function(){var t=u.first(e,function(e,t){return this[t]<3},e);deepEqual(t,[1,2])});test("should chain when passing `n`, `callback`, or `thisArg`",function(){var t=u(e).first(2);ok(t instanceof u);t=u(e).first(function(e){return e<3});ok(t instanceof u);t=u(e).first(function(e,t){return this[t]<3},e);ok(t instanceof u)});test("should not chain when no arguments are passed",function(){var t=u(e).first();strictEqual(t,1)});test("should work with an object for `callback`",function(){deepEqual(u.first(t,{b:2}),t.slice(0,1))});test("should work with a string for `callback`",function(){deepEqual(u.first(t,"b"),t.slice(0,2))})})();o.module("lodash.flatten");(function(){test("should treat sparse arrays as dense",function(){var e=[[1,2,3],Array(3)],n=[1,2,3],r=u.flatten(e),i=u.flatten(e,!0);n.push(t,t,t);deepEqual(r,n);ok(4 in r);deepEqual(i,n);ok(4 in i)})})();o.module("lodash.forEach");(function(){test("returns the collection",function(){var e=[1,2,3];equal(u.forEach(e,Boolean),e)});u.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection` (test in IE < 9)",function(){var t,n=[];u.forEach(e,function(e){t||(t=c.call(arguments));n.push(e)});deepEqual(t,["a",0,e]);deepEqual(n,["a","b","c"])})})})();o.module("lodash.forIn");(function(){test("iterates over inherited properties",function(){function e(e){this.name=e}e.prototype.bark=function(){};var t=[];u.forIn(new e("Dagny"),function(e,n){t.push(n)});deepEqual(t.sort(),["bark","name"])})})();o.module("lodash.forOwn");(function(){test("iterates over the `length` property",function(){var e=[],t={0:"zero",1:"one",length:2};u.forOwn(t,function(t,n){e.push(n)});deepEqual(e.sort(),["0","1","length"])})})();o.module("collection iteration bugs");u.each(["forEach","forIn","forOwn"],function(e){var t=u[e];test("lodash."+e+" fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){var e=[];t(h,function(t,n){e.push(n)});deepEqual(e.sort(),p)});test("lodash."+e+" skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}function r(e,t){n.push(t)}e.prototype.a=1;var n=[];t(e,r);deepEqual(n,[]);n.length=0;e.prototype={a:1};t(e,r);deepEqual(n,[])})});o.module("object assignments");u.each(["assign","defaults","merge"],function(e){var n=u[e];test("lodash."+e+" should assign problem JScript properties (test in IE < 9)",function(){var e={constructor:1,hasOwnProperty:2,isPrototypeOf:3,propertyIsEnumerable:t,toLocaleString:t,toString:t,valueOf:t},r={propertyIsEnumerable:4,toLocaleString:5,toString:6,valueOf:7};deepEqual(n(e,r),h)});test("lodash."+e+" skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}e.prototype.c=3;e.a=1;e.b=2;var t={a:1,b:2};deepEqual(n({},e),t);e.prototype={c:3};deepEqual(n({},e),t)});test("lodash."+e+" should work with `_.reduce`",function(){var e={a:1},t=[{b:2},{c:3}];u.reduce(t,n,e);deepEqual(e,{a:1,b:2,c:3})})});u.each(["assign","merge"],function(e){var t=u[e];test("lodash."+e+" should pass the correct `callback` arguments",function(){var e;t({a:1},{a:2},function(){e||(e=c.call(arguments))});deepEqual(e,[1,2])});test("lodash."+e+" should correct set the `this` binding",function(){var e=t({},{a:0},function(e,t){return this[t]},[2]);deepEqual(e,{a:2})});test("lodash."+e+" should not treat the second argument as a `callback`",function(){function e(){}e.b=2;var n=t({a:1},e);deepEqual(n,{a:1,b:2});n=t({a:1},e,{c:3});deepEqual(n,{a:1,b:2,c:3})})});o.module("exit early");u.each(["forEach","forIn","forOwn"],function(e){var t=u[e];test("lodash."+e+" can exit early when iterating arrays",function(){var e=[1,2,3],n=[];t(e,function(e){n.push(e);return!1});deepEqual(n,[1])});test("lodash."+e+" can exit early when iterating objects",function(){var e={a:1,b:2,c:3},n=[];t(e,function(e){n.push(e);return!1});equal(n.length,1)})});o.module("lodash.groupBy");(function(){test("supports the `thisArg` argument",function(){var e=u.groupBy([4.2,6.1,6.4],function(e){return this.floor(e)},Math);deepEqual(e,{4:[4.2],6:[6.1,6.4]})});test("should only add values to own, not inherited, properties",function(){var e=u.groupBy([4.2,6.1,6.4],function(e){return Math.floor(e)>4?"hasOwnProperty":"constructor"});deepEqual(e.constructor,[4.2]);deepEqual(e.hasOwnProperty,[6.1,6.4])});test("should work with an object for `collection`",function(){var e=u.groupBy({a:4.2,b:6.1,c:6.4},function(e){return Math.floor(e)});deepEqual(e,{4:[4.2],6:[6.1,6.4]})});test("should work with a number for `callback`",function(){var e=[[1,"a"],[2,"a"],[2,"b"]];deepEqual(u.groupBy(e,0),{1:[[1,"a"]],2:[[2,"a"],[2,"b"]]});deepEqual(u.groupBy(e,1),{a:[[1,"a"],[2,"a"]],b:[[2,"b"]]})})})();o.module("lodash.indexOf");(function(){var e=[1,2,3,1,2,3];test("should work with a positive `fromIndex`",function(){equal(u.indexOf(e,1,2),3)});test("should work with `fromIndex` >= `array.length`",function(){equal(u.indexOf(e,1,6),-1);equal(u.indexOf(e,t,6),-1);equal(u.indexOf(e,1,8),-1);equal(u.indexOf(e,t,8),-1)});test("should work with a negative `fromIndex`",function(){equal(u.indexOf(e,2,-3),4)});test("should work with a negative `fromIndex` <= `-array.length`",function(){strictEqual(u.indexOf(e,1,-6),0);strictEqual(u.indexOf(e,2,-8),1)});test("should ignore non-number `fromIndex` values",function(){strictEqual(u.indexOf([1,2,3],1,"1"),0)});test("should work with `isSorted`",function(){strictEqual(u.indexOf([1,2,3],1,!0),0)})})();o.module("lodash.initial");(function(){var e=[1,2,3],t=[{a:0,b:0},{a:1,b:1},{a:2,b:2}];test("returns all elements for `n` of `0`",function(){deepEqual(u.initial(e,0),[1,2,3])});test("should allow a falsey `array` argument",function(){u.each(a,function(e,t){try{var n=e?u.initial(t):u.initial()}catch(r){}deepEqual(n,[])})});test("should exclude last element",function(){deepEqual(u.initial(e),[1,2])});test("should exlcude the last two elements",function(){deepEqual(u.initial(e,2),[1])});test("should work with a `callback`",function(){var t=u.initial(e,function(e){return e>1});deepEqual(t,[1])});test("should pass the correct `callback` arguments",function(){var t;u.initial(e,function(){t||(t=c.call(arguments))});deepEqual(t,[3,2,e])});test("supports the `thisArg` argument",function(){var t=u.initial(e,function(e,t){return this[t]>1},e);deepEqual(t,[1])});test("should work with an object for `callback`",function(){deepEqual(u.initial(t,{b:2}),t.slice(0,2))});test("should work with a string for `callback`",function(){deepEqual(u.initial(t,"b"),t.slice(0,1))})})();o.module("lodash.invoke");(function(){test("should work with an object for `collection`",function(){var e={a:1,b:2,c:3};deepEqual(u.invoke(e,"toFixed",1),["1.0","2.0","3.0"])})})();o.module("lodash.isElement");(function(){test("should use strict equality in its duck type check",function(){var t=e.document?document.body:{nodeType:1};strictEqual(u.isElement(t),!0);strictEqual(u.isElement({nodeType:new Number(1)}),!1);strictEqual(u.isElement({nodeType:!0}),!1);strictEqual(u.isElement({nodeType:[1]}),!1);strictEqual(u.isElement({nodeType:"1"}),!1);strictEqual(u.isElement({nodeType:"001"}),!1)})})();o.module("lodash.isEmpty");(function(){var e=arguments;test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){equal(u.isEmpty(h),!1)});test("skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}e.prototype.a=1;strictEqual(u.isEmpty(e),!0);e.prototype={a:1};strictEqual(u.isEmpty(e),!0)});test("should work with an object that has a `length` property",function(){strictEqual(u.isEmpty({length:0}),!1)});test("should work with jQuery/MooTools DOM query collections",function(){function e(e){Array.prototype.push.apply(this,e)}e.prototype={length:0,splice:Array.prototype.splice};strictEqual(u.isEmpty(new e([])),!0)});test("should work with `arguments` objects (test in IE < 9)",function(){strictEqual(u.isEmpty(e),!1)})})(1,2,3);o.module("lodash.isEqual");(function(){test("should work with `arguments` objects (test in IE < 9)",function(){var e=function(){return arguments}(1,2,3),t=function(){return arguments}(1,2,3),n=function(){return arguments}(1,2);strictEqual(u.isEqual(e,t),!0);strictEqual(u.isEqual(e,n),!1)});test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){strictEqual(u.isEqual(h,{}),!1)});test("should return `true` for like-objects from different documents",function(){if(u._object){var e={a:1,b:2,c:3};strictEqual(u.isEqual(e,u._object),!0)}else d()});test("should return `false` when comparing values with circular references to unlike values",function(){var e=["a",null,"c"],t=["a",[],"c"],n={a:1,b:null,c:3},r={a:1,b:{},c:3};e[1]=e;strictEqual(u.isEqual(e,t),!1);n.b=n;strictEqual(u.isEqual(n,r),!1)});test("should pass the correct `callback` arguments",function(){var e;u.isEqual("a","b",function(){e||(e=c.call(arguments))});deepEqual(e,["a","b"])});test("should correct set the `this` binding",function(){var e=u.isEqual("a","b",function(e,t){return this[e]==this[t]},{a:1,b:1});strictEqual(e,!0)});test("should handle comparisons if `callback` returns `undefined`",function(){var e=u.isEqual("a","a",function(){});strictEqual(e,!0)});test("should return a boolean value even if `callback` does not",function(){var e=u.isEqual("a","a",function(){return"a"});strictEqual(e,!0);u.each(a,function(e){var t=u.isEqual("a","b",function(){return e});strictEqual(t,!1)})})})();o.module("lodash.isFinite");(function(){test("should return `false` for non-numeric values",function(){strictEqual(u.isFinite(null),!1);strictEqual(u.isFinite([]),!1);strictEqual(u.isFinite(!0),!1);strictEqual(u.isFinite(""),!1);strictEqual(u.isFinite(" "),!1);strictEqual(u.isFinite("2px"),!1)});test("should return `true` for numeric string values",function(){strictEqual(u.isFinite("2"),!0);strictEqual(u.isFinite("0"),!0);strictEqual(u.isFinite("08"),!0)})})();o.module("lodash.isObject");(function(){test("should avoid V8 bug #2291",function(){var e={},t="foo";e==e;u.isObject(e);equal(u.isObject(t),!1)})})();o.module("lodash.isNaN");(function(){test("returns `true` for `new Number(NaN)`",function(){strictEqual(u.isNaN(new Number(NaN)),!0)})})();o.module("lodash.isNumber");(function(){test("should avoid `[xpconnect wrapped native prototype]` in Firefox",function(){strictEqual(u.isNumber(2),!0)})})();o.module("lodash.isPlainObject");(function(){test("should detect plain objects",function(){function e(e){this.a=1}strictEqual(u.isPlainObject(new e(1)),!1);strictEqual(u.isPlainObject([1,2,3]),!1);strictEqual(u.isPlainObject({a:1}),!0)})})();o.module("isType checks");u.each(["isArguments","isArray","isBoolean","isDate","isElement","isEmpty","isEqual","isFinite","isFunction","isNaN","isNull","isNumber","isObject","isRegExp","isString","isUndefined"],function(n){var r=u[n];test("lodash."+n+" should return a boolean",function(){var n="boolean";equal(typeof r(arguments),n);equal(typeof r([]),n);equal(typeof r(!0),n);equal(typeof r(!1),n);equal(typeof r(new Date),n);equal(typeof r(e.document&&document.body),n);equal(typeof r({}),n);equal(typeof r(t),n);equal(typeof r(Infinity),n);equal(typeof r(u),n);equal(typeof r(NaN),n);equal(typeof r(null),n);equal(typeof r(0),n);equal(typeof r({a:1}),n);equal(typeof r("a"),n)})});o.module("lodash.keys");(function(){var e=arguments;test("should work with `arguments` objects (test in IE < 9)",function(){deepEqual(u.keys(e),["0","1","2"])});test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){function e(){}e.prototype.a=1;deepEqual(u.keys(e.prototype),["a"]);deepEqual(u.keys(h).sort(),p)});test("skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}e.prototype.c=3;e.a=1;e.b=2;var t=["a","b"];deepEqual(u.keys(e),t);e.prototype={c:3};deepEqual(u.keys(e),t)})})(1,2,3);o.module("lodash.last");(function(){var e=[1,2,3],t=[{a:0,b:0},{a:1,b:1},{a:2,b:2}];test("should return the last element",function(){equal(u.last(e),3)});test("should return the last two elements",function(){deepEqual(u.last(e,2),[2,3])});test("should work with a `callback`",function(){var t=u.last(e,function(e){return e>1});deepEqual(t,[2,3])});test("should pass the correct `callback` arguments",function(){var t;u.last(e,function(){t||(t=c.call(arguments))});deepEqual(t,[3,2,e])});test("supports the `thisArg` argument",function(){var t=u.last(e,function(e,t){return this[t]>1},e);deepEqual(t,[2,3])});test("should chain when passing `n`, `callback`, or `thisArg`",function(){var t=u(e).last(2);ok(t instanceof u);t=u(e).last(function(e){return e>1});ok(t instanceof u);t=u(e).last(function(e,t){return this[t]>1},e);ok(t instanceof u)});test("should not chain when no arguments are passed",function(){var t=u(e).last();equal(t,3)});test("should work with an object for `callback`",function(){deepEqual(u.last(t,{b:2}),t.slice(-1))});test("should work with a string for `callback`",function(){deepEqual(u.last(t,"b"),t.slice(-2))})})();o.module("lodash.lastIndexOf");(function(){var e=[1,2,3,1,2,3];test("should work with a positive `fromIndex`",function(){strictEqual(u.lastIndexOf(e,1,2),0)});test("should work with `fromIndex` >= `array.length`",function(){equal(u.lastIndexOf(e,t,6),-1);equal(u.lastIndexOf(e,1,6),3);equal(u.lastIndexOf(e,t,8),-1);equal(u.lastIndexOf(e,1,8),3)});test("should work with a negative `fromIndex`",function(){strictEqual(u.lastIndexOf(e,2,-3),1)});test("should work with a negative `fromIndex` <= `-array.length`",function(){strictEqual(u.lastIndexOf(e,1,-6),0);equal(u.lastIndexOf(e,2,-8),-1)});test("should ignore non-number `fromIndex` values",function(){equal(u.lastIndexOf([1,2,3],3,"1"),2);equal(u.lastIndexOf([1,2,3],3,!0),2)})})();o.module("lodash.map");(function(){test("should return the correct result when iterating an object",function(){var e=u.map({a:1,b:2,c:3},function(e){return e});deepEqual(e,[1,2,3])});test("should handle object arguments with non-numeric length properties",function(){if(l){var e={};l(e,"length",{value:"x"});deepEqual(u.map(e,u.identity),[])}else d()})})();o.module("lodash.max and lodash.min object iteration");u.each(["max","min"],function(e){var t=u[e];test("lodash."+e+" should iterate an object",function(){var n=t({a:1,b:2,c:3});equal(n,e=="max"?3:1)})});o.module("lodash.max and lodash.min string iteration");u.each(["max","min"],function(e){var t=u[e];test("lodash."+e+" should iterate a string",function(){u.each(["abc",Object("abc")],function(n){var r=t(n);equal(r,e=="max"?"c":"a")})})});o.module("lodash.merge");(function(){var e=arguments;test("should merge `source` into the destination object",function(){var e={stooges:[{name:"moe"},{name:"larry"}]},t={stooges:[{age:40},{age:50}]},n={stooges:[{height:"5'4\""},{height:"5'5\""}]},r={stooges:[{name:"moe",age:40,height:"5'4\""},{name:"larry",age:50,height:"5'5\""}]};deepEqual(u.merge(e,t,n),r)});test("should merge sources containing circular references",function(){var e={foo:{a:1},bar:{a:2}},t={foo:{b:{foo:{c:{}}}},bar:{}};t.foo.b.foo.c=t;t.bar.b=t.foo.b;var n=u.merge(e,t);ok(n.bar.b===n.foo.b&&n.foo.b.foo.c===n.foo.b.foo.c.foo.b.foo.c)});test("should not treat `arguments` objects as plain objects",function(){var t={args:e},n={args:{3:4}},r=u.merge(t,n);equal(u.isArguments(r.args),!1)});test("should work with four arguments",function(){var e={a:4};deepEqual(u.merge({a:1},{a:2},{a:3},e),e)});test("should assign `null` values",function(){var e=u.merge({a:1},{a:null});strictEqual(e.a,null)});test("should not assign `undefined` values",function(){var e=u.merge({a:1},{a:t});strictEqual(e.a,1)});test("should handle merging if `callback` returns `undefined`",function(){var e=u.merge({a:1},{a:2},function(){});deepEqual(e,{a:2})})})(1,2,3);o.module("lodash.omit");(function(){var e={a:1,b:2},t={b:2};test("should accept individual property names",function(){deepEqual(u.omit(e,"a"),t)});test("should accept an array of property names",function(){deepEqual(u.omit(e,["a","c"]),t)});test("should accept mixes of individual and arrays of property names",function(){deepEqual(u.omit(e,["a"],"c"),t)});test("should iterate over inherited properties",function(){function n(){}n.prototype=e;deepEqual(u.omit(new n,"a"),t)});test("should work with a `callback` argument",function(){var n=u.omit(e,function(e){return e==1});deepEqual(n,t)});test("should pass the correct `callback` arguments",function(){var t,n=u.keys(e).pop(),r=n=="b"?[1,"a",e]:[2,"b",e];u.omit(e,function(){t||(t=c.call(arguments))});deepEqual(t,r)});test("should correct set the `this` binding",function(){var n=u.omit(e,function(e){return e==this.a},{a:1});deepEqual(n,t)})})();o.module("partial methods");u.each(["partial","partialRight"],function(e){var t=u[e];test("lodash."+e+" partially applies an argument, without additional arguments",function(){var e="a",n=function(e){return e};equal(t(n,e)(),e)});test("lodash."+e+" partially applies an argument, with additional arguments",function(){var n="a",r="b",i=[n,r],s=function(e,t){return[e,t]};e=="partialRight"&&i.reverse();deepEqual(t(s,n)(r),i)});test("lodash."+e+" works without partially applying arguments, without additional arguments",function(){var e=function(){return arguments.length};strictEqual(t(e)(),0)});test("lodash."+e+" works without partially applying arguments, with additional arguments",function(){var e="a",n=function(e){return e};equal(t(n)(e),e)});test("lodash."+e+" should not alter the `this` binding of either function",function(){var e={a:1},n=function(){return this.a};strictEqual(t(u.bind(n,e))(),e.a);strictEqual(u.bind(t(n),e)(),e.a)})});o.module("lodash.partialRight");(function(){test("should work as a deep `_.defaults`",function(){var e={a:{b:1}},t={a:{b:2,c:3}},n={a:{b:1,c:3}},r=u.partialRight(u.merge,u.defaults);deepEqual(r(e,t),n)})})();o.module("lodash.pick");(function(){var e={a:1,b:2};test("should iterate over inherited properties",function(){function t(){}t.prototype=e;deepEqual(u.pick(new t,"b"),{b:2})});test("should work with a `callback` argument",function(){var t=u.pick(e,function(e){return e==2});deepEqual(t,{b:2})});test("should pass the correct `callback` arguments",function(){var t,n=u.keys(e).pop(),r=n=="b"?[1,"a",e]:[2,"b",e];u.pick(e,function(){t||(t=c.call(arguments))});deepEqual(t,r)});test("should correct set the `this` binding",function(){var t=u.pick(e,function(e){return e==this.b},{b:2});deepEqual(t,{b:2})})})();o.module("lodash.pluck");(function(){test("should work with an object for `collection`",function(){var e={a:[1],b:[1,2],c:[1,2,3]};deepEqual(u.pluck(e,"length"),[1,2,3])})})();o.module("lodash.random");(function(){test("should return `0` or `1` when no arguments are passed",function(){var e=u.random();ok(e===0||e===1)});test("supports not passing a `max` argument",function(){var e=u.random(5),t=new Date;while(new Date-t<50&&e==5)e=u.random(5);notEqual(e,5)});test("supports large integer values",function(){var e=Array(1e3),t=Math.pow(2,31),n=Math.pow(2,62);strictEqual(u.every(e,function(){return u.random(t,n)>=t}),!0);strictEqual(u.some(e,function(){return u.random(Number.MAX_VALUE)>0}),!0)});test("should coerce arguments to numbers",function(){strictEqual(u.random("1","1"),1)})})();o.module("lodash.range");(function(){var e=u.range;test("should treat falsey `start` arguments as `0`",function(){u.each(a,function(e,t){if(t){deepEqual(u.range(e),[]);deepEqual(u.range(e,1),[0])}else deepEqual(u.range(),[])})});test("should coerce arguments to numbers",function(){var t=[e("0",1),e("1"),e(0,1,"1")];deepEqual(t,[[0],[0],[0]])})})();o.module("lodash.reduce");(function(){test("should pass the correct `callback` arguments",function(){var e,t=[1,2,3];u.reduce(t,function(){e||(e=c.call(arguments))});deepEqual(e,[1,2,1,t])});u.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection` (test in IE < 9)",function(){var t,n=u.reduce(e,function(e,n){t||(t=c.call(arguments));return e+n});deepEqual(t,["a","b",1,e]);equal(n,"abc")})})})();o.module("lodash.reduceRight");(function(){test("should pass the correct `callback` arguments when iterating an array",function(){var e,t=[1,2,3];u.reduceRight(t,function(){e||(e=c.call(arguments))});deepEqual(e,[3,2,1,t])});test("should pass the correct `callback` arguments when iterating an object",function(){var e,t={a:1,b:2},n=u.keys(t).pop(),r=n=="b"?[2,1,"a",t]:[1,2,"b",t];u.reduceRight(t,function(){e||(e=c.call(arguments))});deepEqual(e,r)});u.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection` (test in IE < 9)",function(){var t,n=u.reduceRight(e,function(e,n){t||(t=c.call(arguments));return e+n});deepEqual(t,["c","b",1,e]);equal(n,"cba")})})})();o.module("lodash.result");(function(){test("should return `undefined` when passed a falsey `object` argument",function(){strictEqual(u.result(),t)})})();o.module("lodash.rest");(function(){var e=[1,2,3],t=[{a:2,b:2},{a:1,b:1},{a:0,b:0}];test("returns all elements for `n` of `0`",function(){deepEqual(u.rest(e,0),[1,2,3])});test("should allow a falsey `array` argument",function(){u.each(a,function(e,t){try{var n=e?u.rest(t):u.rest()}catch(r){}deepEqual(n,[])})});test("should exclude the first element",function(){deepEqual(u.rest(e),[2,3])});test("should exclude the first two elements",function(){deepEqual(u.rest(e,2),[3])});test("should work with a `callback`",function(){var t=u.rest(e,function(e){return e<3});deepEqual(t,[3])});test("should pass the correct `callback` arguments",function(){var t;u.rest(e,function(){t||(t=c.call
(arguments))});deepEqual(t,[1,0,e])});test("supports the `thisArg` argument",function(){var t=u.rest(e,function(e,t){return this[t]<3},e);deepEqual(t,[3])});test("should work with an object for `callback`",function(){deepEqual(u.rest(t,{b:2}),t.slice(-2))});test("should work with a string for `callback`",function(){deepEqual(u.rest(t,"b"),t.slice(-1))})})();o.module("lodash.shuffle");(function(){test("should shuffle an object",function(){var e=u.shuffle({a:1,b:2,c:3});deepEqual(e.sort(),[1,2,3])})})();o.module("lodash.size");(function(){var e=arguments;test("should allow a falsey `object` argument",function(){u.each(a,function(e,t){try{var n=e?u.size(t):u.size()}catch(r){}strictEqual(n,0)})});test("should work with jQuery/MooTools DOM query collections",function(){function e(e){Array.prototype.push.apply(this,e)}e.prototype={length:0,splice:Array.prototype.splice};equal(u.size(new e([1,2,3])),3)});test("should work with `arguments` objects (test in IE < 9)",function(){equal(u.size(e),3)});test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){equal(u.size(h),7)});u.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection`",function(){deepEqual(u.size(e),3)})})})(1,2,3);o.module("lodash.some");(function(){test("should return `true` as soon as the `callback` result is truthy",function(){strictEqual(u.some([null,!0,null],u.identity),!0)})})();o.module("lodash.sortBy");(function(){test("should perform a stable sort (test in IE > 8, Opera, and V8)",function(){function e(e,t){this.x=e;this.y=t}var n=[new e(1,1),new e(1,2),new e(1,3),new e(1,4),new e(1,5),new e(1,6),new e(2,1),new e(2,2),new e(2,3),new e(2,4),new e(2,5),new e(2,6),new e(t,1),new e(t,2),new e(t,3),new e(t,4),new e(t,5),new e(t,6)],r=u.sortBy(n,function(e){return e.x});deepEqual(r,n)});test("supports the `thisArg` argument",function(){var e=u.sortBy([1,2,3],function(e){return this.sin(e)},Math);deepEqual(e,[3,1,2])});test("should work with an object for `collection`",function(){var e=u.sortBy({a:1,b:2,c:3},function(e){return Math.sin(e)});deepEqual(e,[3,1,2])})})();o.module("lodash.sortedIndex");(function(){test("supports the `thisArg` argument",function(){var e=u.sortedIndex([1,2,3],4,function(e){return this.sin(e)},Math);strictEqual(e,0)});test("supports arrays with lengths larger than `Math.pow(2, 31) - 1`",function(){var e=Math.pow(2,32)-1,t=e-1,n=Array(e),r=0;n[t]=t;u.sortedIndex(n,t,function(){r++});equal(r,33)})})();o.module("lodash.template");(function(){test("supports recursive calls",function(){var e=u.template("<%= a %><% a = _.template(c, obj) %><%= a %>"),t={a:"A",b:"B",c:"<%= b %>"};equal(e(t),"AB")});test("should not augment the `options` object",function(){var e={};u.template("",null,e);deepEqual(e,{})});test("should provide the template source when a SyntaxError occurs",function(){try{u.template("<% if x %>")}catch(e){var t=e.source}ok(/__p/.test(t))});test('should work with complex "interpolate" delimiters',function(){u.each({"<%= a + b %>":"3","<%= b - a %>":"1","<%= a = b %>":"2","<%= !a %>":"false","<%= ~a %>":"-2","<%= a * b %>":"2","<%= a / b %>":"0.5","<%= a % b %>":"1","<%= a >> b %>":"0","<%= a << b %>":"4","<%= a & b %>":"0","<%= a ^ b %>":"3","<%= a | b %>":"3","<%= {}.toString.call(0) %>":"[object Number]","<%= a.toFixed(2) %>":"1.00",'<%= obj["a"] %>':"1","<%= delete a %>":"true",'<%= "a" in obj %>':"true","<%= obj instanceof Object %>":"true","<%= new Boolean %>":"false","<%= typeof a %>":"number","<%= void a %>":""},function(e,t){var n=u.template(t),r={a:1,b:2};equal(n(r),e,t)})});test('should allow referencing variables declared in "evaluate" delimiters from other delimiters',function(){var e=u.template("<% var b = a; %><%= b.value %>"),t={a:{value:1}};equal(e(t),"1")});test("should work when passing `options.variable`",function(){var e=u.template("<% _.forEach( data.a, function( value ) { %><%= value.valueOf() %><% }) %>",null,{variable:"data"}),t={a:[1,2,3]};try{equal(e(t),"123")}catch(n){ok(!1)}});test("should not error with IE conditional comments enabled (test with development build)",function(){var e=u.template(""),t=!0;try{e()}catch(n){t=!1}ok(t)});test("should tokenize delimiters",function(){var e=u.template('<span class="icon-<%= type %>2"></span>'),t={type:1};equal(e(t),'<span class="icon-12"></span>')});test('should work with "interpolate" delimiters containing ternary operators',function(){var e=u.template('<%= value ? value : "b" %>'),t={value:"a"};equal(e(t),"a")});test('should work with "interpolate" delimiters containing global values',function(){var e=u.template("<%= typeof QUnit.init %>");try{var t=e()}catch(n){}equal(t,"function")});test("should parse delimiters with newlines",function(){var e='<<\nprint("<p>" + (value ? "yes" : "no") + "</p>")\n>>',t=u.template(e,null,{evaluate:/<<(.+?)>>/g}),n={value:!0};equal(t(n),e)});test("should parse ES6 template delimiters",function(){var e={value:2};equal(u.template("1${value}3",e),"123");equal(u.template('${"{" + value + "\\}"}',e),"{2}")});test('supports the "imports" option',function(){var e={imports:{a:1}},t=u.template("<%= a %>",null,e);equal(t({}),"1")})})();o.module("lodash.throttle");(function(){test("subsequent calls should return the result of the first call",function(){var e=u.throttle(function(e){return e},32),t=[e("x"),e("y")];deepEqual(t,["x","x"])});test("should clear timeout when `func` is called",function(){var t=0,n=Date,r=u.throttle(function(){t++},32);r();r();e.Date=function(){return Object(Infinity)};r();e.Date=n;equal(t,2)});asyncTest("supports recursive calls",function(){var e=0,t=u.throttle(function(){e++;e<10&&t()},32);t();equal(e,1);setTimeout(function(){ok(e<3);o.start()},32)});asyncTest("should not trigger a trailing call when invoked once",function(){var e=0,t=u.throttle(function(){e++},32);t();equal(e,1);setTimeout(function(){equal(e,1);o.start()},96)});asyncTest("should trigger trailing call when invoked repeatedly",function(){var e=0,t=48,n=u.throttle(function(){e++},32),r=new Date;while(new Date-r<t)n();var i=e;ok(i>1);setTimeout(function(){ok(e>i);o.start()},96)})})();o.module("lodash.toArray");(function(){var t=arguments;test("should return a dense array",function(){var e=Array(3);e[1]=2;var t=u.toArray(e);ok(0 in t);ok(2 in t);deepEqual(t,e)});test("should treat array-like objects like arrays",function(){var e={0:"a",1:"b",2:"c",length:3};deepEqual(u.toArray(e),["a","b","c"]);deepEqual(u.toArray(t),[1,2,3])});test("should work with a string for `collection` (test in Opera < 10.52)",function(){deepEqual(u.toArray("abc"),["a","b","c"]);deepEqual(u.toArray(Object("abc")),["a","b","c"])});test("should work with a node list for `collection` (test in IE < 9)",function(){if(e.document){try{var t=document.getElementsByTagName("body"),n=t[0],r=u.toArray(t)}catch(i){}deepEqual(r,[n])}else d()})})(1,2,3);o.module("lodash.times");(function(){test("should return an array of the results of each `callback` execution",function(){deepEqual(u.times(3,function(e){return e*2}),[0,2,4])})})();o.module("lodash.unescape");(function(){var e="&amp;&lt;&gt;&quot;&#39;/",n="&<>\"'/";test("should unescape entities in the correct order",function(){equal(u.unescape("&amp;lt;"),"&lt;")});test("should unescape the proper entities",function(){equal(u.unescape(e),n)});test("should unescape the same characters escaped by `_.escape`",function(){equal(u.unescape(u.escape(n)),n)});test("should return an empty string when passed `null` or `undefined`",function(){equal(u.unescape(null),"");equal(u.unescape(t),"")})})();o.module("lodash.uniq");(function(){test("supports the `thisArg` argument",function(){var e=u.uniq([1,2,1.5,3,2.5],function(e){return this.floor(e)},Math);deepEqual(e,[1,2,3])});test("should distinguish between numbers and numeric strings",function(){var e=["2",2,Object("2"),Object(2)],t=u.uniq(e);deepEqual(t,e)})})();o.module("lodash.uniqueId");(function(){test("should return a string value when not passing a prefix argument",function(){equal(typeof u.uniqueId(),"string")});test("should coerce the prefix argument to a string",function(){var e=[u.uniqueId(3),u.uniqueId(2),u.uniqueId(1)];ok(/3\d+,2\d+,1\d+/.test(e))})})();o.module("lodash.where");(function(){var e=[{a:1},{a:1},{a:1,b:2},{a:2,b:2},{a:3}];test("should filter by properties",function(){deepEqual(u.where(e,{a:1}),[{a:1},{a:1},{a:1,b:2}]);deepEqual(u.where(e,{a:2}),[{a:2,b:2}]);deepEqual(u.where(e,{a:3}),[{a:3}]);deepEqual(u.where(e,{b:1}),[]);deepEqual(u.where(e,{b:2}),[{a:1,b:2},{a:2,b:2}]);deepEqual(u.where(e,{a:1,b:2}),[{a:1,b:2}])});test("should not filter by inherited properties",function(){function t(){}t.prototype={a:2};var n=new t;n.b=2;deepEqual(u.where(e,n),[{a:1,b:2},{a:2,b:2}])});test("should filter by problem JScript properties (test in IE < 9)",function(){var e=[h];deepEqual(u.where(e,h),[h])});test("should work with an object for `collection`",function(){var e={x:{a:1},y:{a:3},z:{a:1,b:2}};deepEqual(u.where(e,{a:1}),[{a:1},{a:1,b:2}])});test("should return an empty array when passed an empty `properties` object",function(){deepEqual(u.where(e,{}),[])});test("should deep compare `properties` values",function(){var e=[{a:{b:{c:1,d:2},e:3},f:4}],t=u.cloneDeep(e);deepEqual(u.where(e,{a:{b:{c:1}}}),t)});test("should search of arrays for values",function(){var e=[{a:[1,2]}],t=u.cloneDeep(e);deepEqual(u.where(e,{a:[]}),[]);deepEqual(u.where(e,{a:[2]}),t)})})();o.module("lodash(...).shift");(function(){test("should remove the value at index `0` when length is `0` (test in IE 8 compatibility mode)",function(){var e=u({0:1,length:1});e.shift();deepEqual(e.keys().value(),["length"]);equal(e.first(),t)})})();o.module("lodash(...).splice");(function(){test("should remove the value at index `0` when length is `0` (test in IE < 9, and in compatibility mode for IE9)",function(){var e=u({0:1,length:1});e.splice(0,1);deepEqual(e.keys().value(),["length"]);equal(e.first(),t)})})();o.module("lodash(...).toString");(function(){test("should return the `toString` result of the wrapped value",function(){var e=u([1,2,3]);equal(String(e),"1,2,3")})})();o.module("lodash(...).valueOf");(function(){test("should return the `valueOf` result of the wrapped value",function(){var e=u(123);equal(Number(e),123)})})();o.module("lodash(...) methods that return wrapped values");(function(){var e=[1,2,3],t=u(e),n=["concat","splice"];u.each(n,function(e){test("_."+e+" should return a wrapped value",function(){ok(t[e]()instanceof u)})})})();o.module("lodash(...) methods that return unwrapped values");(function(){var e=[1,2,3],t=u(e),n=["clone","contains","every","find","first","has","isArguments","isArray","isBoolean","isDate","isElement","isEmpty","isEqual","isFinite","isFunction","isNaN","isNull","isNumber","isObject","isPlainObject","isRegExp","isString","isUndefined","join","last","pop","shift","reduce","reduceRight","some"];u.each(n,function(e){test("_."+e+" should return an unwrapped value",function(){var n=e=="reduceRight"?t[e](u.identity):t[e]();equal(n instanceof u,!1)})})})();o.module("lodash(...) methods capable of returning wrapped and unwrapped values");(function(){var e=[1,2,3],t=u(e),n=["first","last"];u.each(n,function(e){test("_."+e+" should return an unwrapped value",function(){equal(typeof t[e](),"number")});test("_."+e+" should return a wrapped value",function(){ok(t[e](1)instanceof u)})})})();o.module("lodash methods");(function(){test("should allow falsey arguments",function(){var t="_"in e,n=e._,r=["filter","invoke","map","pluck","reject","shuffle","sortBy","toArray","where"],i=u.without.apply(u,[u.functions(u)].concat(["_","_each","_iteratorTemplate","after","bind","bindAll","compose","debounce","defer","delay","functions","memoize","once","partial","tap","throttle","wrap"]));u.each(i,function(i){var s=[],o=u.times(a.length,function(){return[]}),f=u[i],l=!0;u.each(a,function(e,t){try{s.push(t?f(e):f())}catch(n){l=!1}});i=="noConflict"&&(t?e._=n:delete e._);u.indexOf(r,i)>-1&&deepEqual(s,o,"_."+i+" returns an array");ok(l,"_."+i+" allows falsey arguments")})});test("should handle `null` `thisArg` arguments",function(){var e,n=["a"],r=function(){e=this},i=function(){return this}.call(null),s=["countBy","every","filter","find","forEach","forIn","forOwn","groupBy","map","max","min","omit","pick","reduce","reduceRight","reject","some","sortBy","sortedIndex","times","uniq"];u.each(s,function(s){var o=u[s],a="_."+s+" handles `null` `thisArg` arguments";e=t;/^reduce/.test(s)?o(n,r,0,null):s=="sortedIndex"?o(n,"a",r,null):s=="times"?o(1,r,null):o(n,r,null);i===null?strictEqual(e,null,a):equal(e,i,a)})})})();if(!e.document||e.phantom){o.config.noglobals=!0;o.start()}})(typeof global=="object"&&global||this);