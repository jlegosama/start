// the parent class for all fstreams.
function Abstract(){Stream.call(this)}function decorate(e,t,n){e instanceof Error||(e=new Error(e));e.code=e.code||t;e.path=e.path||n.path;e.fstream_type=e.fstream_type||n.type;e.fstream_path=e.fstream_path||n.path;n._path!==n.path&&(e.fstream_unc_path=e.fstream_unc_path||n._path);n.linkpath&&(e.fstream_linkpath=e.fstream_linkpath||n.linkpath);e.fstream_class=e.fstream_class||n.constructor.name;e.fstream_stack=e.fstream_stack||(new Error).stack.split(/\n/).slice(3).map(function(e){return e.replace(/^    at /,"")});return e}module.exports=Abstract;var Stream=require("stream").Stream,inherits=require("../../inherits/inherits.js");inherits(Abstract,Stream);Abstract.prototype.on=function(e,t){e==="ready"&&this.ready?process.nextTick(t.bind(this)):Stream.prototype.on.call(this,e,t);return this};Abstract.prototype.abort=function(){this._aborted=!0;this.emit("abort")};Abstract.prototype.destroy=function(){};Abstract.prototype.warn=function(e,t){var n=this,r=decorate(e,t,n);n.listeners("warn")?n.emit("warn",r):console.error("%s %s\npath = %s\nsyscall = %s\nfstream_type = %s\nfstream_path = %s\nfstream_unc_path = %s\nfstream_class = %s\nfstream_stack =\n%s\n",t||"UNKNOWN",r.stack,r.path,r.syscall,r.fstream_type,r.fstream_path,r.fstream_unc_path,r.fstream_class,r.fstream_stack.join("\n"))};Abstract.prototype.info=function(e,t){this.emit("info",e,t)};Abstract.prototype.error=function(e,t,n){var r=decorate(e,t,this);if(n)throw r;this.emit("error",r)};