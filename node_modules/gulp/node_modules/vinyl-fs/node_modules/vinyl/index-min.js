function File(e){e||(e={});this.cwd=e.cwd||process.cwd();this.base=e.base||this.cwd;this.path=e.path||null;this.stat=e.stat||null;this.contents=e.contents||null}var path=require("path"),cloneStats=require("clone-stats"),isBuffer=require("./lib/isBuffer"),isStream=require("./lib/isStream"),isNull=require("./lib/isNull"),inspectStream=require("./lib/inspectStream"),cloneBuffer=require("./lib/cloneBuffer");File.prototype.isBuffer=function(){return isBuffer(this.contents)};File.prototype.isStream=function(){return isStream(this.contents)};File.prototype.isNull=function(){return isNull(this.contents)};File.prototype.isDirectory=function(){return this.isNull()&&this.stat&&this.stat.isDirectory()};File.prototype.clone=function(){var e=this.isBuffer()?cloneBuffer(this.contents):this.contents,t=this.stat?cloneStats(this.stat):null;return new File({cwd:this.cwd,base:this.base,path:this.path,stat:t,contents:e})};File.prototype.pipe=function(e,t){t||(t={});typeof t.end=="undefined"&&(t.end=!0);if(this.isStream())return this.contents.pipe(e,t);if(this.isBuffer()){t.end?e.end(this.contents):e.write(this.contents);return e}if(this.isNull()){t.end&&e.end();return e}return e};File.prototype.inspect=function(){var e=[],t=this.base&&this.path?this.relative:this.path;t&&e.push('"'+t+'"');this.isBuffer()&&e.push(this.contents.inspect());this.isStream()&&e.push(inspectStream(this.contents));return"<File "+e.join(" ")+">"};Object.defineProperty(File.prototype,"contents",{get:function(){return this._contents},set:function(e){if(!isBuffer(e)&&!isStream(e)&&!isNull(e))throw new Error("File.contents can only be a Buffer, a Stream, or null.");this._contents=e}});Object.defineProperty(File.prototype,"relative",{get:function(){if(!this.base)throw new Error("No base specified! Can not get relative.");if(!this.path)throw new Error("No path specified! Can not get relative.");return path.relative(this.base,this.path)},set:function(){throw new Error("File.relative is generated from the base and path attributes. Do not modify it.")}});module.exports=File;